{"version":3,"file":"avatar.min.js","sources":["../src/avatar.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JavaScript for displaying an avatar.\n *\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n *\n * @copyright 28/03/2022 LdesignMedia.nl - Luuk Verhoeven\n * @author    Vincent Cornelis\n */\n\nimport Log from 'core/log';\n\n/**\n * Initialise.\n *\n * @param {Object} information Avatar information.\n */\nexport const init = (information) => {\n\n    Log.log(information);\n\n    var gif1 = \"../local/avatar/pix/goose_basic.gif\";\n    var gif2 = \"../local/avatar/pix/r2d2.gif\";\n    var gif3 = \"../local/avatar/pix/seal_basic.gif\";\n    var gif4 = \"../local/avatar/pix/stormtrooper.gif\";\n    var gifs = [gif1,gif2,gif3,gif4];\n\n    Log.log(\"The init function was called\");\n\n    const avatarMoodlenautDiv = document.createElement('div');\n    avatarMoodlenautDiv.style.cssText = 'position:absolute;' +\n        'width:100%;' +\n        'height:200px;' +\n        'z-index:-10;' +\n        'overflow:hidden;' +\n        'bottom:0';\n    avatarMoodlenautDiv.setAttribute(\"id\", \"avatar-moodlenautspace\");\n    document.getElementById(\"page-wrapper\").appendChild(avatarMoodlenautDiv);\n\n    // THE GOOSE INJECTION\n    var avatars = information.avatars;\n    const avatarMoodlenautContainer = [];\n    for (const [userid, avatar] of Object.entries(avatars)) {\n        var ava = createMoodlenautContainer(gifs[avatar.avatar-1],userid);\n        avatarMoodlenautContainer.push(ava);\n        document.getElementById(\"avatar-moodlenautspace\").appendChild(ava);\n    }\n\n    // MOVE THE GOOSE.\n    for (const [userid, avatar] of Object.entries(avatars)) {\n        Log.log(avatar.fullname);\n        const random = Math.floor(Math.random() * 5000);\n        setInterval(() => {\n            document.getElementById(\"avatar-moodlenautContainer\"+userid).style.left = \"110%\";\n        }, random);\n    }\n\n    /**\n     * Create a avatar with an id and a gif\n     * @param {String} gif gif for the avatar\n     * @param {int} id id for the avatar\n     */\n    function createMoodlenautContainer(gif,id){\n        const avatarMoodlenautContainer = document.createElement('div');\n        avatarMoodlenautContainer.style.cssText = 'position:absolute;' +\n            'width:64px;' +\n            'height:64px;' +\n            'z-index:100;' +\n            'background-image:url(\"'+gif+'\");' +\n            'overflow:hidden;' +\n            'bottom:0px;' +\n            'background-size:cover;';\n        avatarMoodlenautContainer.setAttribute(\"id\", \"avatar-moodlenautContainer\"+id);\n        avatarMoodlenautContainer.style.left = \"-70px\";\n        avatarMoodlenautContainer.style.transition = \"left 20s linear\";\n        return avatarMoodlenautContainer;\n    }\n};\n"],"names":["information","log","gifs","avatarMoodlenautDiv","document","createElement","style","cssText","setAttribute","getElementById","appendChild","avatars","avatarMoodlenautContainer","userid","avatar","Object","entries","ava","createMoodlenautContainer","push","fullname","random","Math","floor","setInterval","left","gif","id","transition"],"mappings":";;;;;;;;kJA+BqBA,2BAEbC,IAAID,iBAMJE,KAAO,CAJA,sCACA,+BACA,qCACA,qDAGPD,IAAI,sCAEFE,oBAAsBC,SAASC,cAAc,OACnDF,oBAAoBG,MAAMC,QAAU,iFAMpCJ,oBAAoBK,aAAa,KAAM,0BACvCJ,SAASK,eAAe,gBAAgBC,YAAYP,yBAGhDQ,QAAUX,YAAYW,cACpBC,0BAA4B,OAC7B,MAAOC,OAAQC,UAAWC,OAAOC,QAAQL,SAAU,KAChDM,IAAMC,0BAA0BhB,KAAKY,OAAOA,OAAO,GAAGD,QAC1DD,0BAA0BO,KAAKF,KAC/Bb,SAASK,eAAe,0BAA0BC,YAAYO,SAI7D,MAAOJ,OAAQC,UAAWC,OAAOC,QAAQL,SAAU,cAChDV,IAAIa,OAAOM,gBACTC,OAASC,KAAKC,MAAsB,IAAhBD,KAAKD,UAC/BG,aAAY,KACRpB,SAASK,eAAe,6BAA6BI,QAAQP,MAAMmB,KAAO,SAC3EJ,iBAQEH,0BAA0BQ,IAAIC,UAC7Bf,0BAA4BR,SAASC,cAAc,cACzDO,0BAA0BN,MAAMC,QAAU,8EAIbmB,IAJa,uDAQ1Cd,0BAA0BJ,aAAa,KAAM,6BAA6BmB,IAC1Ef,0BAA0BN,MAAMmB,KAAO,QACvCb,0BAA0BN,MAAMsB,WAAa,kBACtChB"}