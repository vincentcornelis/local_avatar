{"version":3,"file":"avatar.min.js","sources":["../src/avatar.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JavaScript for displaying an avatar.\n *\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n *\n * @copyright 28/03/2022 LdesignMedia.nl - Luuk Verhoeven\n * @author    Vincent Cornelis\n */\n\nimport Log from 'core/log';\n\n/**\n * Initialise.\n */\nexport const init = () => {\n    var gif1 = \"../local/avatar/pix/r2d2.gif\";\n    var gif2 = \"../local/avatar/pix/seal_basic.gif\";\n    var gif3 = \"../local/avatar/pix/goose_basic.gif\";\n    var gif4 = \"../local/avatar/pix/stormtrooper.gif\";\n    var gifs = [gif1,gif2,gif3,gif4];\n\n    Log.log(\"The init function was called\");\n\n    const avatarMoodlenautDiv = document.createElement('div');\n    avatarMoodlenautDiv.style.cssText = 'position:absolute;' +\n        'width:100%;' +\n        'height:200px;' +\n        'z-index:-10;' +\n        'overflow:hidden;' +\n        'bottom:0';\n    avatarMoodlenautDiv.setAttribute(\"id\", \"avatar-moodlenautspace\");\n    document.getElementById(\"page-wrapper\").appendChild(avatarMoodlenautDiv);\n\n    // THE GOOSE INJECTION\n    const avatarMoodlenautContainer = [];\n    for (let i = 0; i < 5; i++) {\n        var ava = createMoodlenautContainer(gifs[Math.floor(Math.random() * 4)],i);\n        avatarMoodlenautContainer.push(ava);\n        document.getElementById(\"avatar-moodlenautspace\").appendChild(ava);\n    }\n\n    // MOVE THE GOOSE.\n    for (let id = 0; id < 5; id++) {\n        const random = Math.floor(Math.random() * 5000);\n        setInterval(() => {\n            document.getElementById(\"avatar-moodlenautContainer\"+id).style.left = \"110%\";\n        }, random);\n    }\n\n    /**\n     *\n     * @param {String} gif\n     * @param {int} id\n     */\n    function createMoodlenautContainer(gif,id){\n        const avatarMoodlenautContainer = document.createElement('div');\n        avatarMoodlenautContainer.style.cssText = 'position:absolute;' +\n            'width:64px;' +\n            'height:64px;' +\n            'z-index:100;' +\n            'background-image:url(\"'+gif+'\");' +\n            'overflow:hidden;' +\n            'bottom:0px;' +\n            'background-size:cover;';\n        avatarMoodlenautContainer.setAttribute(\"id\", \"avatar-moodlenautContainer\"+id);\n        avatarMoodlenautContainer.style.left = \"-70px\";\n        avatarMoodlenautContainer.style.transition = \"left 20s linear\";\n        return avatarMoodlenautContainer;\n    }\n};\n"],"names":["gifs","log","avatarMoodlenautDiv","document","createElement","style","cssText","setAttribute","getElementById","appendChild","avatarMoodlenautContainer","i","ava","createMoodlenautContainer","Math","floor","random","push","id","setInterval","left","gif","transition"],"mappings":";;;;;;;;kJA6BoB,SAKZA,KAAO,CAJA,+BACA,qCACA,sCACA,qDAGPC,IAAI,sCAEFC,oBAAsBC,SAASC,cAAc,OACnDF,oBAAoBG,MAAMC,QAAU,iFAMpCJ,oBAAoBK,aAAa,KAAM,0BACvCJ,SAASK,eAAe,gBAAgBC,YAAYP,2BAG9CQ,0BAA4B,OAC7B,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IAAK,KACpBC,IAAMC,0BAA0Bb,KAAKc,KAAKC,MAAsB,EAAhBD,KAAKE,WAAeL,GACxED,0BAA0BO,KAAKL,KAC/BT,SAASK,eAAe,0BAA0BC,YAAYG,SAI7D,IAAIM,GAAK,EAAGA,GAAK,EAAGA,KAAM,OACrBF,OAASF,KAAKC,MAAsB,IAAhBD,KAAKE,UAC/BG,aAAY,KACRhB,SAASK,eAAe,6BAA6BU,IAAIb,MAAMe,KAAO,SACvEJ,iBAQEH,0BAA0BQ,IAAIH,UAC7BR,0BAA4BP,SAASC,cAAc,cACzDM,0BAA0BL,MAAMC,QAAU,8EAIbe,IAJa,uDAQ1CX,0BAA0BH,aAAa,KAAM,6BAA6BW,IAC1ER,0BAA0BL,MAAMe,KAAO,QACvCV,0BAA0BL,MAAMiB,WAAa,kBACtCZ"}